(function(t){function e(e){for(var r,a,c=e[0],u=e[1],i=e[2],p=0,f=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&f.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(f.length)f.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==s[u]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},s={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var i=0;i<c.length;i++)e(c[i]);var l=u;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/new"}},[t._v("Add new text")])],1),n("router-view")],1)},o=[],a=n("2877"),c={},u=Object(a["a"])(c,s,o,!1,null,null,null),i=u.exports,l=n("8c4f"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("TextList")],1)},f=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Text items list")]),t._l(t.textItems,(function(e){return n("p",{key:e.id},[t._v(" "+t._s(e.preview)+" ("),n("a",{attrs:{href:"text/"+e.id}},[t._v("count: "+t._s(e.sentences))]),t._v(") ")])})),n("Paginator",{attrs:{pages:t.count,basePath:"/?page=",current:t.page}})],2)},h=[],v=(n("99af"),n("d3b7"),"http://localhost:5000"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",t._l(t.pages,(function(e){return n("span",[e==t.current?n("span",[t._v("<"+t._s(e)+">")]):n("span",[n("a",{attrs:{href:""+t.basePath+e}},[t._v("<"+t._s(e)+">")])])])})),0)},x=[],_={name:"Paginator",props:["current","basePath","pages"]},b=_,g=Object(a["a"])(b,m,x,!1,null,null,null),y=g.exports,j={name:"TextList",components:{Paginator:y},data:function(){return{textItems:[],page:0,count:0}},methods:{getTextItems:function(){var t=this;this.page=this.$route.query.page||1,fetch("".concat(v,"/text?page=").concat(this.page)).then((function(t){return t.json()})).then((function(e){t.textItems=e.data,t.count=Math.ceil(e.count/10)}))}},created:function(){this.getTextItems()}},I=j,O=Object(a["a"])(I,d,h,!1,null,null,null),w=O.exports,T={name:"Home",components:{TextList:w}},P=T,S=Object(a["a"])(P,p,f,!1,null,null,null),$=S.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("TextInputForm")],1)},E=[],L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Add new text")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{placeholder:"insert your text here",rows:"20",cols:"100"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}),n("br"),n("button",{on:{click:t.submitText}},[t._v("Save")])])},M=[],F={name:"TextInputForm",data:function(){return{text:""}},methods:{submitText:function(){var t=this;fetch("".concat(v,"/text"),{method:"POST",headers:{"Content-Type":"text/plain"},body:this.text}).then((function(t){return t.json()})).then((function(e){"ok"==e.status&&t.$router.push({path:"/text/".concat(e.id)})}))}}},R=F,A=Object(a["a"])(R,L,M,!1,null,null,null),C=A.exports,H={components:{TextInputForm:C}},J=H,q=Object(a["a"])(J,k,E,!1,null,null,null),N=q.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SentenceList",{attrs:{textId:t.textId}})],1)},B=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Text item #"+t._s(t.textId))]),t._l(t.sentences,(function(e){return n("p",{key:e.id},[n("a",{attrs:{href:"/sentence/"+e.id}},[t._v(t._s(e.value))])])}))],2)},G=[],K={name:"SentenceList",props:["textId"],data:function(){return{sentences:[]}},methods:{getSentences:function(){var t=this;fetch("".concat(v,"/text/").concat(this.textId)).then((function(t){return t.json()})).then((function(e){t.sentences=e.data}))}},created:function(){this.getSentences()}},Q=K,U=Object(a["a"])(Q,D,G,!1,null,null,null),V=U.exports,W={components:{SentenceList:V},props:["textId"]},X=W,Y=Object(a["a"])(X,z,B,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ResultList",{attrs:{sentenceId:t.sentenceId}})],1)},et=[],nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Similar sentences for item #"+t._s(t.sentenceId))]),"pending"===t.status?n("div",[n("p",[t._v("Try again later...")])]):n("div",t._l(t.sentences,(function(e){return n("p",{key:e.id},[t._v(" "+t._s(e.value)+" ("),n("a",{attrs:{href:"/text/"+e.text_id}},[t._v("text #"+t._s(e.text_id))]),t._v(") ")])})),0)])},rt=[],st={name:"ResultList",props:["sentenceId"],data:function(){return{status:"",sentences:[]}},methods:{getSentences:function(){var t=this;fetch("".concat(v,"/sentence/").concat(this.sentenceId)).then((function(t){return t.json()})).then((function(e){t.status=e.status,t.sentences=e.data||[]}))}},created:function(){this.getSentences()}},ot=st,at=Object(a["a"])(ot,nt,rt,!1,null,null,null),ct=at.exports,ut={components:{ResultList:ct},props:["sentenceId"]},it=ut,lt=Object(a["a"])(it,tt,et,!1,null,null,null),pt=lt.exports;r["a"].use(l["a"]);var ft=[{path:"/",component:$},{path:"/new",component:N},{path:"/text/:textId",component:Z,props:!0},{path:"/sentence/:sentenceId",component:pt,props:!0}],dt=new l["a"]({mode:"history",base:"/",routes:ft}),ht=dt;r["a"].config.productionTip=!1,new r["a"]({router:ht,render:function(t){return t(i)}}).$mount("#app")}});
//# sourceMappingURL=app.61c2b78f.js.map